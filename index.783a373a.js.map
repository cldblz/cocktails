{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,oDAKMC,EAAiBC,SAASC,cAAc,0BACxCC,EAAyBF,SAASC,cACtC,gCAEIE,EAAYH,SAASC,cAAc,iCACnCG,EAAgBJ,SAASC,cAAc,kBAEvCI,EAAUL,SAASC,cAAc,QAEhC,SAASK,IACdP,EAAeQ,UAAUC,OAAO,aAChCH,EAAQE,UAAUC,OAAO,uB,UAiBLC,EAAgBC,G,OAAhBC,EAAeC,MAAAC,KAAAC,U,UAAfH,I,OAAAA,EAAfI,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAA+BR,G,IAC9BS,EAGAC,EACFC,EAEKC,EACDC,EACFC,EAcAC,EAgBAC,E,kEAhCN,IANMP,EAAQT,EAAKiB,OAAO,GAGpBP,EAAS,GAGNE,EAAI,EAAGA,EAAI,GAAIA,IAChBC,EAAaJ,EAAM,gBAAkBS,OAAFN,IACrCE,EAAUL,EAAM,aAAeS,OAAFN,IAC7BC,IACGC,IACHA,EAAU,IAEZJ,EAAOS,KACL,qEAC0DD,OADUL,EAAW,yEACVK,OAAXJ,EAAQ,KAAcI,OAAXL,EAAW,wBAGlFF,EAAWD,EAAOU,KAAK,KAIrBL,EAAS,8BAILG,OAJmCT,EAAMY,SAAS,mLAO5CH,OAHNT,EAAMa,gBAAgB,kDAGaJ,OAA7BT,EAAMc,cAAc,WAK1BL,OALmCT,EAAMe,YAAY,yQAK5CN,OAATP,EAAS,iCAIbK,EAAgBS,KAAKC,MAAMC,aAAaC,QAAQ,iBAC7BZ,EAAca,kBAAkBC,KAAI,SAAAC,GAC3D,OAAOA,EAAGC,O,IAEQC,SAASC,OAAOzB,EAAMuB,WACxC1C,SAASC,cAAc,6BAA6BM,UAAUsC,OAAO,mBACrE7C,SAASC,cAAc,6BAA6BM,UAAUuC,IAAI,wBAClE9C,SAASC,cAAc,6BAA6B8C,UAAY,yBAEhE/C,SAASC,cAAc,6BAA6BM,UAAUuC,IAAI,mBAClE9C,SAASC,cAAc,6BAA6BM,UAAUsC,OAAO,wBACrE7C,SAASC,cAAc,6BAA6B8C,UAAY,mBAGlE5C,EAAU6C,UAAYvB,EAEOzB,SAASC,cAAc,8BAE/BgD,iBAAiB,QAASC,EAAAC,sB,6CAzDZvC,MAAAC,KAAAC,U,UA6DfsC,I,OAAAA,EAAfrC,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAkCmC,G,IAE/BC,E,sEADJD,EAAEE,OAAOhD,UAAUiD,SAAS,6BAA4B,C,sBACpDF,EAASD,EAAEE,OAAOE,WAAWC,QAAQhB,QAC3C1C,SAASC,cAAc,oBAAoByD,QAAQhB,QAAUY,E,UAClC,EAAAK,EAAAC,gBAAeN,G,OAC1C7C,EADkBoD,EAAAC,MAElBxD,I,OAEuB,yBAAtB+C,EAAEE,OAAOQ,YACV,EAAAC,EAAAC,2BAA0BZ,GAEH,yBAAtBA,EAAEE,OAAOQ,YACV,EAAAC,EAAAE,gCAA+Bb,G,6CAZKzC,MAAAC,KAAAC,U,CA3ExCZ,EAAuB+C,iBAAiB,QAAS3C,GACjDP,EAAekD,iBAAiB,SAAS,SAAAI,GACvC,GAAIA,EAAEE,SAAWxD,EAOf,OANIsD,EAAEE,OAAOhD,UAAUiD,SAAS,qBAC9B,EAAAQ,EAAAC,2BAA0BZ,QAExBA,EAAEE,OAAOhD,UAAUiD,SAAS,0BAC9B,EAAAQ,EAAAE,gCAA+Bb,IAInC/C,G,IAgFFF,EAAc6C,iBAAiB,S,SAhBUI,G,OAAnBD,EAAkBxC,MAAAC,KAAAC,U","sources":["src/js/cocktails-modal-logic.js"],"sourcesContent":["import { addCocktailToLocalStorage, removeCocktailFromLocalStorage } from './add-to-remove-localstorage';\nimport { fetchDrinkById } from './fetchFunction';\nimport { openIngredientsModal } from './modal-ingredients';  \n\n\nconst cocktailsModal = document.querySelector('[data-cocktails-modal]');\nconst closeCocktailsModalBtn = document.querySelector(\n  '[data-cocktails-modal-close]'\n);\nconst drinkInfo = document.querySelector('.cocktails-modal-content-wrap');\nconst cocktailsList = document.querySelector('.cocktail-list');\n\nconst docBody = document.querySelector('body');\n\nexport function toggleModal() {\n  cocktailsModal.classList.toggle('is-hidden');\n  docBody.classList.toggle('modal-cocktails-open');\n}\n\ncloseCocktailsModalBtn.addEventListener('click', toggleModal);\ncocktailsModal.addEventListener('click', e => {\n  if (e.target !== cocktailsModal) {\n    if (e.target.classList.contains('add-to-favorite')) {\n      addCocktailToLocalStorage(e)\n    }\n    if (e.target.classList.contains('remove-from-favorite')) {\n      removeCocktailFromLocalStorage(e)\n    }\n    return;\n  }\n  toggleModal();\n});\n\nexport async function renderDrinkInfo(data) {\n  const drink = data.drinks[0];\n  \n\n  const ingArr = [];\n  let liMarkup;\n\n  for (let i = 1; i < 16; i++) {\n    const ingredient = drink[`strIngredient${i}`];\n    let measure = drink[`strMeasure${i}`];\n    if (ingredient) {\n      if (!measure) {\n        measure = '';\n      }\n      ingArr.push(\n        `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal\"><span>&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n      );\n      liMarkup = ingArr.join('');\n    }\n  }\n\n  const markup = `<h2 class=\"cocktail-title\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title\">Instructions:</h3>\n        <p class=\"cocktail-description__text\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n\n  const localFavorite = JSON.parse(localStorage.getItem('favoriteList'))\n  const favoriteCocktail = localFavorite.favoriteCocktails.map(el => {\n    return el.idDrink;\n  });\n  if(favoriteCocktail.includes(Number(drink.idDrink))){\n    document.querySelector('.cocktails-modal-favorite').classList.remove('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.add('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Remove from favorite';\n  }else{\n    document.querySelector('.cocktails-modal-favorite').classList.add('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.remove('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Add to favorite';\n  }\n\n  drinkInfo.innerHTML = markup;\n  \n  const modalIngredientsList = document.querySelector('.cocktail-ingredients-list')\n\n  modalIngredientsList.addEventListener('click', openIngredientsModal)\n\n}\n\nexport async function openCocktailsModal(e) {\n  if (e.target.classList.contains('cocktail-item__learn-more')) {    \n    const elemId = e.target.parentNode.dataset.idDrink;\n    document.querySelector('.cocktails-modal').dataset.idDrink = elemId;\n    const foundedDrink = await fetchDrinkById(elemId);\n    renderDrinkInfo(foundedDrink);\n    toggleModal();\n  }\n  if(e.target.className == 'cocktail-item__add-to'){\n    addCocktailToLocalStorage(e)\n  }\n  if(e.target.className == 'cocktail-item__remove'){\n    removeCocktailFromLocalStorage(e)\n  }\n}\n\ncocktailsList.addEventListener('click', openCocktailsModal);\n"],"names":["$bpxeT","parcelRequire","$1d51a6cc17b59a23$var$cocktailsModal","document","querySelector","$1d51a6cc17b59a23$var$closeCocktailsModalBtn","$1d51a6cc17b59a23$var$drinkInfo","$1d51a6cc17b59a23$var$cocktailsList","$1d51a6cc17b59a23$var$docBody","$1d51a6cc17b59a23$export$313c6d35f75fc0e","classList","toggle","$1d51a6cc17b59a23$export$c12d30439a36aa6","data","$1d51a6cc17b59a23$var$_renderDrinkInfo","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","drink","ingArr","liMarkup","i","ingredient","measure","markup","localFavorite","drinks","concat","push","join","strDrink","strInstructions","strDrinkThumb","strCategory","JSON","parse","localStorage","getItem","favoriteCocktails","map","el","idDrink","includes","Number","remove","add","innerText","innerHTML","addEventListener","$6alNL","openIngredientsModal","$1d51a6cc17b59a23$var$_openCocktailsModal","e","elemId","target","contains","parentNode","dataset","$gpzZK","fetchDrinkById","_ctx","sent","className","$dKbLb","addCocktailToLocalStorage","removeCocktailFromLocalStorage"],"version":3,"file":"index.783a373a.js.map"}