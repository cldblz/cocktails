{"mappings":"sgBAAA,IAAAA,EAAAC,EAAA,S,0BAKA,MAAMC,EAAiBC,SAASC,cAAc,0BACxCC,EAAyBF,SAASC,cACtC,gCAEIE,EAAYH,SAASC,cAAc,iCACnCG,EAAgBJ,SAASC,cAAc,kBAEvCI,EAAUL,SAASC,cAAc,QAEhC,SAASK,IACdP,EAAeQ,UAAUC,OAAO,aAChCH,EAAQE,UAAUC,OAAO,uB,CAG3BN,EAAuBO,iBAAiB,QAASH,GACjDP,EAAeU,iBAAiB,SAASC,IACvC,GAAIA,EAAEC,SAAWZ,EAOf,OANIW,EAAEC,OAAOJ,UAAUK,SAAS,qBAC9B,EAAAf,EAAAgB,2BAA0BH,QAExBA,EAAEC,OAAOJ,UAAUK,SAAS,0BAC9B,EAAAf,EAAAiB,gCAA+BJ,IAInCJ,GAAa,IAgFfF,EAAcK,iBAAiB,SAhBxBM,eAAkCL,GACvC,GAAIA,EAAEC,OAAOJ,UAAUK,SAAS,6BAA8B,CAC5D,MAAMI,EAASN,EAAEC,OAAOM,WAAWC,QAAQC,QAC3CnB,SAASC,cAAc,oBAAoBiB,QAAQC,QAAUH,GAhE1DD,eAA+BK,GACpC,MAAMC,EAAQD,EAAKE,OAAO,GAGpBC,EAAS,GACf,IAAIC,EAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAaL,EAAM,gBAAgBI,KACzC,IAAIE,EAAUN,EAAM,aAAaI,KAC7BC,IACGC,IACHA,EAAU,IAEZJ,EAAOK,KACL,oEAAoEF,wEACVC,KAAWD,wBAGvEF,EAAWD,EAAOM,KAAK,I,CAI3B,MAAMC,EAAS,8BAA8BT,EAAMU,0LAIzCV,EAAMW,gEAGAX,EAAMY,uBAAuBZ,EAAMa,mRAKzCV,iCAIYW,KAAKC,MAAMC,aAAaC,QAAQ,iBACfC,kBAAkBC,KAAIC,GACpDA,EAAGtB,UAEQuB,SAASC,OAAOtB,EAAMF,WACxCnB,SAASC,cAAc,6BAA6BM,UAAUqC,OAAO,mBACrE5C,SAASC,cAAc,6BAA6BM,UAAUsC,IAAI,wBAClE7C,SAASC,cAAc,6BAA6B6C,UAAY,yBAEhE9C,SAASC,cAAc,6BAA6BM,UAAUsC,IAAI,mBAClE7C,SAASC,cAAc,6BAA6BM,UAAUqC,OAAO,wBACrE5C,SAASC,cAAc,6BAA6B6C,UAAY,mBAGlE3C,EAAU4C,UAAYjB,EAEO9B,SAASC,cAAc,8BAE/BQ,iBAAiB,QAASuC,EAAAC,qB,CAS7CC,OAD2B,EAAAC,EAAAC,gBAAepC,IAE1CV,G,CAEuB,yBAAtBI,EAAEC,OAAO0C,YACV,EAAAxD,EAAAgB,2BAA0BH,GAEH,yBAAtBA,EAAEC,OAAO0C,YACV,EAAAxD,EAAAiB,gCAA+BJ,E","sources":["src/js/cocktails-modal-logic.js"],"sourcesContent":["import { addCocktailToLocalStorage, removeCocktailFromLocalStorage } from './add-to-remove-localstorage';\nimport { fetchDrinkById } from './fetchFunction';\nimport { openIngredientsModal } from './modal-ingredients';  \n\n\nconst cocktailsModal = document.querySelector('[data-cocktails-modal]');\nconst closeCocktailsModalBtn = document.querySelector(\n  '[data-cocktails-modal-close]'\n);\nconst drinkInfo = document.querySelector('.cocktails-modal-content-wrap');\nconst cocktailsList = document.querySelector('.cocktail-list');\n\nconst docBody = document.querySelector('body');\n\nexport function toggleModal() {\n  cocktailsModal.classList.toggle('is-hidden');\n  docBody.classList.toggle('modal-cocktails-open');\n}\n\ncloseCocktailsModalBtn.addEventListener('click', toggleModal);\ncocktailsModal.addEventListener('click', e => {\n  if (e.target !== cocktailsModal) {\n    if (e.target.classList.contains('add-to-favorite')) {\n      addCocktailToLocalStorage(e)\n    }\n    if (e.target.classList.contains('remove-from-favorite')) {\n      removeCocktailFromLocalStorage(e)\n    }\n    return;\n  }\n  toggleModal();\n});\n\nexport async function renderDrinkInfo(data) {\n  const drink = data.drinks[0];\n  \n\n  const ingArr = [];\n  let liMarkup;\n\n  for (let i = 1; i < 16; i++) {\n    const ingredient = drink[`strIngredient${i}`];\n    let measure = drink[`strMeasure${i}`];\n    if (ingredient) {\n      if (!measure) {\n        measure = '';\n      }\n      ingArr.push(\n        `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal\"><span>&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n      );\n      liMarkup = ingArr.join('');\n    }\n  }\n\n  const markup = `<h2 class=\"cocktail-title\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title\">Instructions:</h3>\n        <p class=\"cocktail-description__text\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n\n  const localFavorite = JSON.parse(localStorage.getItem('favoriteList'))\n  const favoriteCocktail = localFavorite.favoriteCocktails.map(el => {\n    return el.idDrink;\n  });\n  if(favoriteCocktail.includes(Number(drink.idDrink))){\n    document.querySelector('.cocktails-modal-favorite').classList.remove('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.add('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Remove from favorite';\n  }else{\n    document.querySelector('.cocktails-modal-favorite').classList.add('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.remove('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Add to favorite';\n  }\n\n  drinkInfo.innerHTML = markup;\n  \n  const modalIngredientsList = document.querySelector('.cocktail-ingredients-list')\n\n  modalIngredientsList.addEventListener('click', openIngredientsModal)\n\n}\n\nexport async function openCocktailsModal(e) {\n  if (e.target.classList.contains('cocktail-item__learn-more')) {    \n    const elemId = e.target.parentNode.dataset.idDrink;\n    document.querySelector('.cocktails-modal').dataset.idDrink = elemId;\n    const foundedDrink = await fetchDrinkById(elemId);\n    renderDrinkInfo(foundedDrink);\n    toggleModal();\n  }\n  if(e.target.className == 'cocktail-item__add-to'){\n    addCocktailToLocalStorage(e)\n  }\n  if(e.target.className == 'cocktail-item__remove'){\n    removeCocktailFromLocalStorage(e)\n  }\n}\n\ncocktailsList.addEventListener('click', openCocktailsModal);\n"],"names":["$1v8zF","parcelRequire","$d3eb011dd81ba7fe$var$cocktailsModal","document","querySelector","$d3eb011dd81ba7fe$var$closeCocktailsModalBtn","$d3eb011dd81ba7fe$var$drinkInfo","$d3eb011dd81ba7fe$var$cocktailsList","$d3eb011dd81ba7fe$var$docBody","$d3eb011dd81ba7fe$export$313c6d35f75fc0e","classList","toggle","addEventListener","e","target","contains","addCocktailToLocalStorage","removeCocktailFromLocalStorage","async","elemId","parentNode","dataset","idDrink","data","drink","drinks","ingArr","liMarkup","i","ingredient","measure","push","join","markup","strDrink","strInstructions","strDrinkThumb","strCategory","JSON","parse","localStorage","getItem","favoriteCocktails","map","el","includes","Number","remove","add","innerText","innerHTML","$aJrzc","openIngredientsModal","$d3eb011dd81ba7fe$export$c12d30439a36aa6","$bfh0X","fetchDrinkById","className"],"version":3,"file":"index.06816c8e.js.map"}